---
import BaseLayout from '../../layouts/BaseLayout.astro';
import { getCaseStudies } from '../../lib/content';

const caseStudies = await getCaseStudies();
---
<BaseLayout title="Case Studies" current="case-studies">
  <section class="max-w-6xl mx-auto px-5 lg:px-8 py-12 pb-16">
    <h1 class="text-[1.6rem] font-semibold mb-3">Case studies</h1>
    <p class="max-w-2xl text-muted text-[0.95rem]">
      A small set of projects that show how I approach problem solving,
      collaboration, and delivery.
    </p>
    {caseStudies.length === 0 && (
      <p class="text-muted text-[0.85rem] mt-6">
        Content to come â€“ case studies will be loaded from Decap.
      </p>
    )}
    
      {caseStudies.length > 0 && (
        <div class="grid gap-6 mt-8 md:grid-cols-2">
          {caseStudies.map((study) => (
            <article class="bg-surface/40 border border-border rounded-lg p-6 transition-all hover:border-muted">
              <h2 class="text-xl font-semibold mb-2">
                <a href={`/case-studies/${study.slug}`} class="text-off-white hover:text-muted transition-colors">
                  {study.title}
                </a>
              </h2>
              <p class="text-muted text-[0.9rem] mb-4">{study.summary}</p>
              <div class="flex flex-wrap gap-2 mb-4">
                {study.technologies.map((tech) => (
                  <span class="px-2 py-1 bg-off-black border border-border rounded text-xs text-muted">
                    {tech}
                  </span>
                ))}
              </div>
              <a 
                href={`/case-studies/${study.slug}`}
                class="text-off-white text-sm hover:text-muted transition-colors inline-flex items-center gap-1"
              >
                Read more
                <svg width="14" height="14" fill="none" viewBox="0 0 16 16" stroke="currentColor" stroke-width="2">
                  <path d="M6 3l5 5-5 5" />
                </svg>
              </a>
            </article>
          ))}
        </div>
      )}
  </section>
</BaseLayout>
